// =============================================================================
// ACCORDION (CSS)
// =============================================================================

// Delivery & Returns styling
.accordion-delivery {
    

    h3 {
        font-size: 1.5rem;
        font-weight: bold;
        color: #333a40; // Dark grey text
        margin: 0.5rem 0; // Remove top margin, keep bottom margin
        padding: 0; // Remove padding
    }

    p {
        font-size: 1rem;
        color: #333a40; // Dark grey text
        margin-bottom: 1rem;
        line-height: 1.5;
        padding: 0; // Remove padding
    }

    a {
        color: #fb8500; // Orange color for links
        text-decoration: none;

        &:hover,
        &:focus {
            text-decoration: underline;
        }
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 1rem;
        font-size: 0.9rem; // Slightly smaller font size for better fit

        th, td {
            border: 1px solid #cccccc; // Light grey border
            padding: 0.5rem;
            text-align: left;
            word-wrap: break-word; // Ensure long words break to fit the cell
        }

        th {
            background-color: #f8f8f8; // Light grey background for headers
            font-weight: bold;
        }

        td {
            vertical-align: top; // Align text to the top of the cell
        }
    }
}

// Accordion styling
.accordion {
    width: 100%; // Ensure the accordion takes the full width of the page
    padding: 0; // Remove padding
    border: none; // Remove border
    margin-bottom: 1rem;

    .accordion-item {
        margin-bottom: 0; // Remove bottom margin
        border: none;

        &:not(:first-child) button {
            border-top: none; // Remove top border for all but first item
        }


        &:not(:last-child) {
            .accordion-content {
                border-bottom: 1px solid #e6e6e6;
                padding-bottom: 1rem;
            }
        }

        button {
            width: 100%;
            padding: 0.5rem 0;
            border: none;
            background: none;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-top: 2px solid #fb8500;
            border-bottom: 1px solid #333a40; // Add bottom border to all titles

            .accordion-title {
                font-family: stencilFontFamily("headings-font");
                font-size: 1.5rem;
                color: #333a40;
                padding: 0;
                font-weight: normal;
                width: 100%;
            }

            .icon {
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
            }

            &[aria-expanded='true'] {
                border-bottom: 2px solid #fb8500; // Override with orange for active
            }
        }

        &:last-child button {
            border-bottom: 2px solid #fb8500; // Darker border for last title
        }

        // Remove previous content border styles
        .accordion-content {
            padding: 1rem 0.5rem;
            margin-top: 0;
            border-bottom: none;
        }
    }

    button {
        position: relative;
        display: block;
        text-align: left;
        width: 100%;
        padding: 0.5rem 0;
        color: #333a40; // Match the theme's dark gray color
        font-size: 1.15rem;
        font-weight: 700;
        border: none;
        background: none;
        outline: none;
        border-bottom: 2px solid #333a40; // Light gray color
        &:hover, &:focus {
            cursor: pointer;
            color: #fb8500; // Match the theme's orange color
            &::after {
                cursor: pointer;
                color: #fb8500; // Match the theme's orange color
                border: 2px solid #fb8500; // Match the theme's orange color
            }
        }

        .accordion-title {
            padding: 1em 1.5em 1em 0;
        }

        .icon {
            display: inline-block;
            position: absolute;
            top: 18px;
            right: 0;
            width: 22px;
            height: 22px;
            border: none;
            border-radius: 22px;

            .icon-arrow-up {
                display: none;
            }
        }
    }

    button[aria-expanded='true'] {
        color: #fb8500; // Match the theme's orange color

        .icon {
            .icon-arrow-up {
                display: inline;
            }
            .icon-arrow-down {
                display: none;
            }
        }

        + .accordion-content {
            opacity: 1;
            max-height: none; // Remove max-height restriction
            height: auto; // Allow content to determine height
            transition: opacity 200ms linear;
            will-change: opacity;
            padding: 1rem 0.5rem;
            margin-top: 0;
            display: block; // Ensure content is visible
        }
    }

    .accordion-content {
        opacity: 0;
        max-height: 0;
        height: 0; // Start with no height
        overflow: hidden;
        transition: opacity 200ms linear;
        will-change: opacity;
        display: none; // Hide by default
        visibility: visible;

        p {
            font-size: 1rem;
            font-weight: 400;
            margin: 0.25em 0;
        }

        dt.productView-info-name {
            font-weight: bold;
            color: #333a40; // Dark gray for contrast
            margin-bottom: 0.5rem;
        }

        dd.productView-info-value {
            margin-bottom: 1rem;
            color: #555a60; // Light gray for text
        }

        // Add some padding and border to the specification tab content
        &.specification-content {
            padding: 1rem;
            border: 1px solid #e5e5e5; // Light gray border
            border-radius: 0; // Remove rounded corners
            background-color: #f9f9f9; // Light background color
        }
    }
    .productView-info-name {
        display: block; 
    }
}

// Remove the margin override
.accordion button[aria-expanded='true'] + .accordion-content {
    margin-top: 0;
}